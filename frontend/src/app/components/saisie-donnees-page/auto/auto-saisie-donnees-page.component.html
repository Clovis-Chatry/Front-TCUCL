<div class="main-container">
  <div class="left-panel">
    <div class="page-title">
      <h2>Poste automobile</h2>
      <span class="help-icon" title="Lorem ipsum">
        <svg width="1em" height="1em" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="black"></circle>
          <rect x="11" y="10" width="2" height="6" fill="white"></rect>
          <circle cx="12" cy="8" r="1" fill="white"></circle>
        </svg>
      </span>
    </div>
    <details>
      <summary><strong>Saisir une nouvelle voiture</strong></summary>

      <div class="form-column">
        <label>Modèle / Immatriculation</label>
        <input type="text" [(ngModel)]="nouveauVehicule.modeleOuImmatriculation" />

        <label>Type de véhicule</label>
        <select [(ngModel)]="nouveauVehicule.typeVehicule">
          <option *ngFor="let type of vehiculeTypesLibelles" [ngValue]="type.value">
            {{ type.label }}
          </option>
        </select>

        <label>Nombre de véhicules identiques</label>
        <input type="number" [(ngModel)]="nouveauVehicule.nombreVehiculesIdentiques" />

        <label>Nombre de Km moyen / Voiture</label>
        <input type="number" [(ngModel)]="nouveauVehicule.nombreKilometresParVoitureMoyen" />
      </div>

      <button type="button" (click)="ajouterVehicule()">Ajouter ce véhicule</button>
    </details>

    <div *ngIf="vehiculeOnglet.vehicules.length > 0">
      <h3>Voitures ajoutées</h3>
      <table class="data-table">
        <thead>
          <tr>
            <th>Modèle / Immatriculation</th>
            <th>Type</th>
            <th>Nb de véhicules identiques</th>
            <th>Nb de Km moyen par voiture</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let v of vehiculeOnglet.vehicules; let i = index">
            <td>{{ v.modeleOuImmatriculation }}</td>
            <td>{{ getLibelleTypeVehicule(v.typeVehicule) }}</td>
            <td>{{ v.nombreVehiculesIdentiques }}</td>
            <td>{{ v.nombreKilometresParVoitureMoyen }}</td>
            <td><button type="button" (click)="supprimerVehicule(i)">Supprimer</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<app-save-footer [path]="'autoOnglet'" (estTermineChange)="onEstTermineChange($event)"></app-save-footer>
