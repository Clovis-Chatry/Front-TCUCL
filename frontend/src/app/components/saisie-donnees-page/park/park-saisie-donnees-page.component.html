<div class="main-container">
  <div class="left-panel">
    <h2>Parkings</h2>

    <details>
      <summary><strong>Saisir un nouveau parking</strong></summary>

      <div class="form-column">
        <label>Nom / Adresse :
          <input type="text" [(ngModel)]="nouveauParking.nom" />
        </label>

        <label>Date de construction :
          <input type="date" [(ngModel)]="nouveauParking.dateConstruction" />
        </label>

        <label>Émissions de GES connues ?
          <select [(ngModel)]="nouveauParking.gesConnu">
            <option [ngValue]="false">Non</option>
            <option [ngValue]="true">Oui</option>
          </select>
        </label>

        <label *ngIf="nouveauParking.gesConnu">Émissions de GES réelles (tCO2e/an) :
          <input type="number" [(ngModel)]="nouveauParking.gesReel" />
        </label>
      </div>

      <button type="button" (click)="ajouterParking()">Ajouter ce parking</button>
    </details>

    <div *ngIf="items.parkings.length > 0" class="added-parkings">
      <h4>Parkings enregistrés :</h4>
      <table class="data-table">
        <thead>
          <tr>
            <th>Nom / Adresse</th>
            <th>Date de construction</th>
            <th>Émissions GES</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let parking of items.parkings; let i = index">
            <td>{{ parking.nom }}</td>
            <td>{{ parking.dateConstruction | date: 'dd/MM/yyyy' }}</td>
            <td>{{ parking.gesConnu ? (parking.gesReel + ' tCO2e/an') : 'N/C' }}</td>
            <td>
              <button (click)="supprimerParking(i)">🗑️</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<app-save-footer [path]="'parkingsOnglet'"></app-save-footer>
